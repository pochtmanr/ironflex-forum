// Script to add test topics to Firebase
import { db } from '../firebase/config';
import { collection, addDoc, serverTimestamp, getDocs, query, where } from 'firebase/firestore';

export const addTestTopics = async () => {
  try {
    console.log('üöÄ Adding test topics to Firebase...');
    
    // First, get the available categories
    const categoriesSnapshot = await getDocs(collection(db, 'categories'));
    const categories = categoriesSnapshot.docs.map(doc => ({
      id: doc.id,
      ...doc.data()
    })) as any[];
    
    console.log('üìÇ Available categories:', categories);
    
    if (categories.length === 0) {
      console.log('‚ùå No categories found. Please initialize categories first.');
      return;
    }
    
    // Use the first category for test topics
    const firstCategory = categories[0];
    console.log('üìù Using category:', firstCategory.name, 'with ID:', firstCategory.id);
    
    // Test topics to add
    const testTopics = [
      {
        categoryId: firstCategory.id,
        userId: 'test-user-1',
        userName: '–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä',
        userEmail: 'admin@forum.com',
        title: '–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –Ω–∞ —Ñ–æ—Ä—É–º! üéâ',
        content: `# –ü—Ä–∏–≤–µ—Ç –≤—Å–µ–º!

–≠—Ç–æ **–ø–µ—Ä–≤–∞—è —Ç–µ–º–∞** –Ω–∞ –Ω–∞—à–µ–º —Ñ–æ—Ä—É–º–µ –ø–æ –±–æ–¥–∏–±–∏–ª–¥–∏–Ω–≥—É –∏ —Ñ–∏—Ç–Ω–µ—Å—É!

## –ß—Ç–æ –≤—ã –º–æ–∂–µ—Ç–µ –¥–µ–ª–∞—Ç—å –∑–¥–µ—Å—å:
- ‚úÖ –ó–∞–¥–∞–≤–∞—Ç—å –≤–æ–ø—Ä–æ—Å—ã –æ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞—Ö
- ‚úÖ –î–µ–ª–∏—Ç—å—Å—è —Å–≤–æ–∏–º–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è–º–∏
- ‚úÖ –û–±—Å—É–∂–¥–∞—Ç—å –ø–∏—Ç–∞–Ω–∏–µ –∏ –¥–æ–±–∞–≤–∫–∏
- ‚úÖ –ù–∞—Ö–æ–¥–∏—Ç—å –µ–¥–∏–Ω–æ–º—ã—à–ª–µ–Ω–Ω–∏–∫–æ–≤
- ‚úÖ –ü–æ–ª—É—á–∞—Ç—å —Å–æ–≤–µ—Ç—ã –æ—Ç –æ–ø—ã—Ç–Ω—ã—Ö –∞—Ç–ª–µ—Ç–æ–≤

### –î–∞–≤–∞–π—Ç–µ –æ–±—â–∞—Ç—å—Å—è!
–ù–µ —Å—Ç–µ—Å–Ω—è–π—Ç–µ—Å—å —Å–æ–∑–¥–∞–≤–∞—Ç—å –Ω–æ–≤—ã–µ —Ç–µ–º—ã –∏ –∞–∫—Ç–∏–≤–Ω–æ —É—á–∞—Å—Ç–≤–æ–≤–∞—Ç—å –≤ –æ–±—Å—É–∂–¥–µ–Ω–∏—è—Ö.

**–° —É–≤–∞–∂–µ–Ω–∏–µ–º,**  
*–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏—è —Ñ–æ—Ä—É–º–∞*`,
        mediaLinks: [],
        slug: 'welcome-to-forum',
        views: 15,
        likes: 3,
        dislikes: 0,
        isPinned: true,
        isLocked: false,
        isActive: true,
        replyCount: 2
      },
      {
        categoryId: firstCategory.id,
        userId: 'test-user-2',
        userName: '–°–ø–æ—Ä—Ç—Å–º–µ–Ω',
        userEmail: 'athlete@forum.com',
        title: '–ú–æ—è –ø—Ä–æ–≥—Ä–∞–º–º–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ –Ω–∞ –º–∞—Å—Å—É üí™',
        content: `–ü—Ä–∏–≤–µ—Ç! –•–æ—á—É –ø–æ–¥–µ–ª–∏—Ç—å—Å—è —Å–≤–æ–µ–π –ø—Ä–æ–≥—Ä–∞–º–º–æ–π —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–º–æ–≥–ª–∞ –º–Ω–µ –Ω–∞–±—Ä–∞—Ç—å 10 –∫–≥ –∑–∞ 6 –º–µ—Å—è—Ü–µ–≤.

## –ú–æ—è –ø—Ä–æ–≥—Ä–∞–º–º–∞:

**–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫ - –ì—Ä—É–¥—å –∏ —Ç—Ä–∏—Ü–µ–ø—Å:**
- –ñ–∏–º –ª–µ–∂–∞ 4x8-10
- –ñ–∏–º –≥–∞–Ω—Ç–µ–ª–µ–π –Ω–∞ –Ω–∞–∫–ª–æ–Ω–Ω–æ–π 3x10-12
- –û—Ç–∂–∏–º–∞–Ω–∏—è –Ω–∞ –±—Ä—É—Å—å—è—Ö 3x8-10

**–°—Ä–µ–¥–∞ - –°–ø–∏–Ω–∞ –∏ –±–∏—Ü–µ–ø—Å:**
- –ü–æ–¥—Ç—è–≥–∏–≤–∞–Ω–∏—è 4x6-8
- –¢—è–≥–∞ —à—Ç–∞–Ω–≥–∏ –≤ –Ω–∞–∫–ª–æ–Ω–µ 4x8-10
- –ü–æ–¥—ä–µ–º —à—Ç–∞–Ω–≥–∏ –Ω–∞ –±–∏—Ü–µ–ø—Å 3x10-12

**–ü—è—Ç–Ω–∏—Ü–∞ - –ù–æ–≥–∏ –∏ –ø–ª–µ—á–∏:**
- –ü—Ä–∏—Å–µ–¥–∞–Ω–∏—è 4x8-10
- –ñ–∏–º –Ω–æ–≥–∞–º–∏ 3x12-15
- –ñ–∏–º —à—Ç–∞–Ω–≥–∏ —Å—Ç–æ—è 3x8-10

–ß—Ç–æ –¥—É–º–∞–µ—Ç–µ –æ —Ç–∞–∫–æ–π –ø—Ä–æ–≥—Ä–∞–º–º–µ?`,
        mediaLinks: [],
        slug: 'my-mass-gaining-program',
        views: 28,
        likes: 7,
        dislikes: 1,
        isPinned: false,
        isLocked: false,
        isActive: true,
        replyCount: 5
      },
      {
        categoryId: firstCategory.id,
        userId: 'test-user-3',
        userName: '–ù–æ–≤–∏—á–æ–∫',
        userEmail: 'newbie@forum.com',
        title: '–° —á–µ–≥–æ –Ω–∞—á–∞—Ç—å –Ω–æ–≤–∏—á–∫—É? ü§î',
        content: `–ü—Ä–∏–≤–µ—Ç –≤—Å–µ–º! –Ø —Ç–æ–ª—å–∫–æ –Ω–∞—á–∏–Ω–∞—é –∑–∞–Ω–∏–º–∞—Ç—å—Å—è –≤ –∑–∞–ª–µ –∏ –Ω–µ –∑–Ω–∞—é —Å —á–µ–≥–æ –Ω–∞—á–∞—Ç—å.

**–ú–æ–∏ –¥–∞–Ω–Ω—ã–µ:**
- –í–æ–∑—Ä–∞—Å—Ç: 22 –≥–æ–¥–∞
- –†–æ—Å—Ç: 175 —Å–º
- –í–µ—Å: 65 –∫–≥
- –û–ø—ã—Ç: 0 (–Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –∑–∞–Ω–∏–º–∞–ª—Å—è)

**–¶–µ–ª–∏:**
- –ù–∞–±—Ä–∞—Ç—å –º—ã—à–µ—á–Ω—É—é –º–∞—Å—Å—É
- –£–ª—É—á—à–∏—Ç—å –æ–±—â—É—é —Ñ–∏–∑–∏—á–µ—Å–∫—É—é —Ñ–æ—Ä–º—É
- –ù–∞—É—á–∏—Ç—å—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Ç–µ—Ö–Ω–∏–∫–µ

–ü–æ–¥—Å–∫–∞–∂–∏—Ç–µ, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞:
1. –ö–∞–∫—É—é –ø—Ä–æ–≥—Ä–∞–º–º—É –≤—ã–±—Ä–∞—Ç—å –¥–ª—è –Ω–∞—á–∞–ª–∞?
2. –ö–∞–∫–∏–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è —Å–∞–º—ã–µ –≤–∞–∂–Ω—ã–µ?
3. –ö–∞–∫ —á–∞—Å—Ç–æ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∞—Ç—å—Å—è?
4. –ß—Ç–æ —Å –ø–∏—Ç–∞–Ω–∏–µ–º?

–ë—É–¥—É –±–ª–∞–≥–æ–¥–∞—Ä–µ–Ω –∑–∞ –ª—é–±—ã–µ —Å–æ–≤–µ—Ç—ã!`,
        mediaLinks: [],
        slug: 'where-to-start-beginner',
        views: 42,
        likes: 12,
        dislikes: 0,
        isPinned: false,
        isLocked: false,
        isActive: true,
        replyCount: 8
      }
    ];
    
    // Add each test topic
    for (const topicData of testTopics) {
      const topicRef = await addDoc(collection(db, 'topics'), {
        ...topicData,
        createdAt: serverTimestamp(),
        updatedAt: serverTimestamp(),
        lastPostAt: serverTimestamp()
      });
      
      console.log(`‚úÖ Added topic: "${topicData.title}" with ID: ${topicRef.id}`);
    }
    
    console.log('üéâ All test topics added successfully!');
    console.log('üìä You should now see topics in your forum.');
    
  } catch (error) {
    console.error('‚ùå Error adding test topics:', error);
  }
};

// Make it available globally for browser console
if (typeof window !== 'undefined') {
  (window as any).addTestTopics = addTestTopics;
  console.log('üîß Test function available: window.addTestTopics()');
}
